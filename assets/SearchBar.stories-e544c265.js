import{d as W,a as _,b as H,w as b,o as N,L as D,e as i,f as S,g as $,t as B,m as C,j as l,z as u,i as y,F as x,S as T,A as P,k as w}from"./vue.esm-bundler-d3349c08.js";import{q as O}from"./_plugin-vue_export-helper-aacd223c.js";import{I as U}from"./index-338fced0.js";/* empty css              */import{D as F}from"./index-313bc1fc.js";import{M as k}from"./index-a3d78a76.js";/* empty css              */import{S as j}from"./SearchOutlined-ea7a7ace.js";import"./extends-98964cd2.js";import"./_commonjsHelpers-725317a4.js";import"./omit-4a797a27.js";import"./index-9c62f409.js";import"./Portal-0e68c685.js";import"./index-85112d81.js";import"./EllipsisOutlined-96b50ea1.js";import"./index-7f04833c.js";import"./KeyCode-e53a3216.js";const V=W({components:{Input:U,SearchOutlined:j,Dropdown:F,Menu:k,MenuItem:k.Item},props:{placeholder:{default:"Search on server list",type:String},searchHistory:{type:Array,default:()=>[]},defaultValue:{type:String,default:""},maxWidth:{type:Number,default:362},minWidth:{type:Number,default:192}},emits:["searchBarEnter","searchBarChange","clickSearchbarMenu"],setup(a,{emit:s}){const r=_(a.defaultValue||""),p=_(a.searchHistory);function v(e){s("searchBarEnter",e.target.value)}function d(){const e=document.getElementById("search-bar"),c=document.querySelector(".search-bar__width"),t=a.maxWidth-48,n=a.minWidth-48;if(e&&c){const o=c.clientWidth;r.value.length===0?e.style.width=`${n-14}px`:o>n&&o<t?e.style.width=`${c.clientWidth}px`:o>t?e.style.width=`${t}px`:o<n&&(e.style.width=`${n}px`)}}function m(e){s("searchBarChange",e.target.value)}const f=({item:e})=>{s("clickSearchbarMenu",e.value),r.value=e.value},g=H(()=>r.value.length===0?a.placeholder:r.value);return b(()=>a.searchHistory,e=>{p.value=e}),b(()=>a.defaultValue,e=>{e&&e.length>0&&(r.value=e)}),N(()=>{d()}),D(()=>{d()}),{searchContent:r,searchHistoryInner:p,setInputWidth:d,displayContent:g,clickMenu:f,searchBarEnter:v,searchBarChange:m}}});const q={id:"search-bar__wrapper",class:"search-bar__wrapper","data-e2e":"global-search-input-wrapper"},A={class:"search-bar__width"};function L(a,s,r,p,v,d){const m=u("SearchOutlined"),f=u("Input"),g=u("MenuItem"),e=u("Menu"),c=u("Dropdown");return i(),S("div",q,[$("div",A,B(a.displayContent),1),C(c,{trigger:["click"]},{overlay:l(()=>{var t;return[((t=a.searchHistoryInner)==null?void 0:t.length)!==0?(i(),y(e,{key:0,"data-e2e":"global-search-list",onClick:a.clickMenu},{default:l(()=>[(i(!0),S(x,null,T(a.searchHistoryInner,(n,o)=>(i(),y(g,{key:o,value:n,"data-e2e":"global-search-list-item"},{default:l(()=>[P(B(n),1)]),_:2},1032,["value"]))),128))]),_:1},8,["onClick"])):w("",!0)]}),default:l(()=>[C(f,{id:"search-bar",value:a.searchContent,"onUpdate:value":s[0]||(s[0]=t=>a.searchContent=t),placeholder:a.placeholder,"allow-clear":"",autocomplete:"off","data-e2e":"global-search-input",onPressEnter:a.searchBarEnter,onChange:a.searchBarChange},{suffix:l(()=>[a.searchContent.length<1?(i(),y(m,{key:0,style:{color:"#9c9c9c"}})):w("",!0)]),_:1},8,["value","placeholder","onPressEnter","onChange"])]),_:1})])}const z=O(V,[["render",L],["__scopeId","data-v-5efd3ffb"]]);V.__docgenInfo={exportName:"default",displayName:"SearchBar",description:"",tags:{},props:[{name:"placeholder",type:{name:"string"},defaultValue:{func:!1,value:"'Search on server list'"}},{name:"searchHistory",type:{name:"string[]"},defaultValue:{func:!0,value:"() => []"}},{name:"defaultValue",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"maxWidth",type:{name:"number"},defaultValue:{func:!1,value:"362"}},{name:"minWidth",type:{name:"number"},defaultValue:{func:!1,value:"192"}}],events:[{name:"searchBarEnter"},{name:"searchBarChange"},{name:"clickSearchbarMenu"}],sourceFiles:["/Users/marion/Documents/Code_learning/component_lib/src/components/SearchBar.vue"]};const le={title:"UI/SearchBar",component:z,tags:["autodocs"],decorators:[()=>({template:'<div style="margin: 2em"><story /></div>'})],argTypes:{onSearchBarEnter:{action:"searchBarEnter",description:"Event name is `searchBarEnter`. This event would be triggered when press Enter. Throw back input's value."},onSearchBarChange:{action:"searchBarChange",description:"Event name is `searchBarChange`. This event would be triggered when input value change. Throw back input's value."},onClickSearchbarMenu:{action:"clickSearchbarMenu",description:"Event name is `clickSearchbarMenu`. Click searchbar's history menu and throwback menu's value."},placeholder:{type:"string",description:"Placeholder default is `Search on server list`."},searchHistory:{control:"object",description:"Search history's value"},defaultValue:{type:"string",description:"To set default value to input."}}},h={args:{searchHistory:["ip","virtual","status"]}};var E,I,M;h.parameters={...h.parameters,docs:{...(E=h.parameters)==null?void 0:E.docs,source:{originalSource:`{
  args: {
    searchHistory: ['ip', 'virtual', 'status']
  }
}`,...(M=(I=h.parameters)==null?void 0:I.docs)==null?void 0:M.source}}};const ue=["SearchBar"];export{h as SearchBar,ue as __namedExportsOrder,le as default};
//# sourceMappingURL=SearchBar.stories-e544c265.js.map
